<div class="row">
	<div class="col-sm-7">
		<h4>Store Pickup</h4>
		<i class="fa fa-map-marker fa-3x icon-left"></i>
		<span>
			<h5>Your selected store: <span ng-if="slatwall.getPickupLocation().locationName != undefined">
				<span ng-if="slatwall.getPickupLocation().locationName != undefined">
					{{(slatwall.getRequestByAction('addPickupFulfillmentLocation').loading) ? 'Loading...' : slatwall.getPickupLocation().locationName}}
				</span>
				<span ng-if="slatwall.namelessPickupLocation()">
					{{(slatwall.getRequestByAction('addPickupFulfillmentLocation').loading) ? 'Loading...' : slatwall.getPickupLocation().primaryAddress.address.streetAddress + ' ' + slatwall.getPickupLocation().primaryAddress.address.city}}</span>
				</span>
				<span ng-if="slatwall.noPickupLocation()">None</span></h5>
			<a href="#" ng-click="slatwall.showStoreSelector = !slatwall.showStoreSelector;" ng-if="slatwall.getPickupLocation().primaryAddress != undefined">Change store</a>
		</span>

		<div ng-if="slatwall.showStoreSelector || !slatwall.getPickupLocation().primaryAddress" style="padding-top:30px">
			<span ng-if="slatwall.loading || slatwall.getRequestByAction('getAccount').loading">Loading Stores...</span>

			<div>

				<sw-typeahead-input-field
					data-entity-name="Location"
					data-field-name="pickupLocation"
					data-property-to-save="locationID"
					data-properties-to-load="locationName,primaryAddress.address.city,primaryAddress.address.stateCode,primaryAddress.address.postalCode"
					data-show-add-button="true"
					data-show-view-button="true"
					data-placeholder-text="Search Stores..."
					data-multiselect-mode="false"
					data-action="addPickupFulfillmentLocation"
					data-selected-format-string="${locationName}&nbsp;${primaryAddress_address_city}&nbsp;${primaryAddress_address_stateCode}&nbsp;${primaryAddress_address_postalCode}"
					data-event-listeners="{addPickupFulfillmentLocationSuccess:slatwall.hideStoreSelector}">
					
					<sw-collection-config
	                      data-entity-name="Location"
						  data-collection-config-property="typeaheadCollectionConfig"
	                      data-parent-directive-controller-as-name="swTypeaheadInputField"
	                      data-all-records="false"
	                      data-page-show="25"
	                      data-filter-flag="false">
				
					  <sw-collection-columns>
						  <sw-collection-column data-property-identifier="primaryAddress.address.addressID" data-is-searchable="false">
						  	
						  </sw-collection-column>
						  <sw-collection-column data-property-identifier="primaryAddress.address.city" data-is-searchable="true"></sw-collection-column>
						  <sw-collection-column data-property-identifier="primaryAddress.address.stateCode" data-is-searchable="false"></sw-collection-column>
						  <sw-collection-column data-property-identifier="primaryAddress.address.postalCode" data-is-searchable="false"></sw-collection-column>
						  <sw-collection-column data-property-identifier="locationName" data-is-searchable="true"></sw-collection-column>
						  <sw-collection-column data-property-identifier="locationID" data-is-searchable="false"></sw-collection-column>
					  </sw-collection-columns>
					  
				
	  			  </sw-collection-config>
					
				  <span sw-typeahead-search-line-item data-property-identifier="locationName"></span>
				  <span sw-typeahead-search-line-item data-property-identifier="primaryAddress_address_city"> - </span>
	              <span sw-typeahead-search-line-item data-property-identifier="primaryAddress_address_stateCode">, </span>
	              <span sw-typeahead-search-line-item data-property-identifier="primaryAddress_address_postalCode"> </span>
				
				</sw-typeahead-input-field>
					
			</div>
		</div>
	</div>
</div>
