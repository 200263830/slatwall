var slatwallMenuShowing=false;var slatwallSearchDelay=0;jQuery(document).ready(function(){jQuery("li#mainMenu a.logo").click(function(a){a.preventDefault();if(slatwallMenuShowing){toggleToolbarMenu(false)}else{toggleToolbarMenu(true)}});jQuery("li#mainMenu ul.menu li").hover(function(b){if(!jQuery(this).hasClass("selected")&&jQuery("#SlatwallToolbarSearch").val().length==0&&slatwallMenuShowing){var a="li#mainMenu div.subMenuWrapper div."+jQuery(this).attr("class");jQuery("li#mainMenu ul.menu li").removeClass("selected");jQuery(this).addClass("selected");displaySubMenu(a)}},function(){});jQuery("#SlatwallToolbarSearch").keyup(function(a){clearTimeout(slatwallSearchDelay);if(jQuery(this).val().length>0){jQuery("li#mainMenu ul.menu").show();slatwallMenuShowing=true;jQuery("li#mainMenu ul.menu li").removeClass("selected");jQuery("li#mainMenu ul.menu li.adminmain").addClass("selected");displaySubMenu("li#mainMenu div.subMenuWrapper div.searchresults");slatwallSearchDelay=setTimeout("runToolbarSearch()",200)}else{jQuery("li#mainMenu ul.menu li").removeClass("selected");jQuery("li#mainMenu div.subMenuWrapper div.subMenu").hide()}});jQuery(document).click(function(a){if(slatwallMenuShowing){if(!jQuery(a.target).parents("div.svocommontoolbarmenu").length){toggleToolbarMenu(false)}}});jQuery(document).keydown(function(a){if(a.keyCode==27){a.preventDefault();if(slatwallMenuShowing){toggleToolbarMenu(false)}}if(a.keyCode==77&&a.ctrlKey){a.preventDefault();if(!slatwallMenuShowing){toggleToolbarMenu(true)}}})});function toggleToolbarMenu(a){if(a){jQuery("li#search > input").focus();jQuery("li#mainMenu ul.menu").show("fast",function(b){slatwallMenuShowing=true})}else{slatwallMenuShowing=false;jQuery("li#search > input").blur();jQuery("li#search > input").val("");jQuery("li#mainMenu ul.menu").hide("fast");jQuery("li#mainMenu div.subMenuWrapper").hide();jQuery("li#mainMenu ul.menu li").removeClass("selected")}}function displaySubMenu(a){jQuery("li#mainMenu div.subMenuWrapper div.subMenu").hide();jQuery(a).show();jQuery("li#mainMenu div.subMenuWrapper").show();jQuery("li#mainMenu div.subMenuWrapper").height(jQuery("li#mainMenu ul.menu").height()+100);jQuery("li#mainMenu div.subMenuWrapper").offset(jQuery("li#mainMenu ul.menu").offset())}function runToolbarSearch(){jQuery.ajax({type:"get",url:"/plugins/Slatwall/api/index.cfm/display/toolbarSearchResults/",data:{apiKey:slatwallToolbarSearchKey,keywords:jQuery("#SlatwallToolbarSearch").val()},dataType:"json",context:document.body,success:function(a){jQuery("div.searchResults").replaceWith(a)}})};